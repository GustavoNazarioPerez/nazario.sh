console.log('This site was generated by Hugo.');

// Hamburger menu toggle
document.addEventListener('DOMContentLoaded', function() {
  const hamburger = document.querySelector('.hamburger');
  const nav = document.querySelector('.nav');

  if (hamburger && nav) {
    hamburger.addEventListener('click', function() {
      this.classList.toggle('active');
      nav.classList.toggle('active');

      // Update aria-expanded for accessibility
      const isExpanded = this.classList.contains('active');
      this.setAttribute('aria-expanded', isExpanded);
    });

    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
      if (!nav.contains(event.target) && !hamburger.contains(event.target)) {
        hamburger.classList.remove('active');
        nav.classList.remove('active');
        hamburger.setAttribute('aria-expanded', 'false');
      }
    });
  }

  // Subscribe modal
  const modal = document.getElementById('subscribe-modal');
  const btn = document.getElementById('subscribe-btn');
  const span = document.getElementsByClassName('close')[0];
  const form = document.getElementById('subscribe-form');
  const successMsg = document.getElementById('subscribe-success');

  if (btn && modal) {
    btn.onclick = function() {
      modal.style.display = 'block';
    }
  }

  if (span && modal) {
    span.onclick = function() {
      modal.style.display = 'none';
    }
  }

  if (modal) {
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = 'none';
      }
    }
  }

  if (form && successMsg) {
    form.onsubmit = function() {
      setTimeout(function() {
        form.style.display = 'none';
        successMsg.style.display = 'block';
        setTimeout(function() {
          modal.style.display = 'none';
          form.style.display = 'flex';
          successMsg.style.display = 'none';
          form.reset();
        }, 2000);
      }, 500);
    }
  }
});
